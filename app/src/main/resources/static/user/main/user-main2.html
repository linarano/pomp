<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
   <link href="/node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet" id="bootstrap-css">
    
    
    
    <title>이용자 메인 화면</title>
  <link rel="stylesheet" href="/user/css/common.css">
  <link href="/user/css/user.css" rel="stylesheet">
  <link href="/css/user_common.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/494f2ad211.js" crossorigin="anonymous"></script>
   
   <!-- flexslider -->
  <link rel="stylesheet" href="/user/main/flexslider/flexslider.css" type="text/css" media="screen" /> 
    
   <!-- swiper -->
  <link rel="stylesheet" href="/user/main/swiper/swiper-bundle.min.css"/>
    
    <style>
    
  /* flexslider start */
  .flexslider {  
  width: 1140px;
  height : 570px;
  }
  
    #m-slider-1 {
  position: relative;
  }

  #flex-text-1 {
  font-size:40px;
  font-weight:bold;
  color :#39ffb3;
  position: absolute;
  z-index: 1;
  top: 350px;
  left: 550px;
  }
  
  #m-slider-2 {
  position: relative;
  }

  #flex-text-2 {
  font-size:40px;
  font-weight:bold;
  color :#39ffb3;
  position: absolute;
  z-index: 1;
  top: 300px;
  left: 650px;
  }
  
  
  #m-slider-3 {
  position: relative;
  }

  #flex-text-3 {
  font-size:40px;
  font-weight:bold;
  color :#39ffb3;
  position: absolute;
  z-index: 1;
  top: 300px;
  left: 400px;
  }
  
  #m-slider-4 {
  position: relative;
  }
  
  #flex-text-4 {
  font-size:40px;
  font-weight:bold;
  color :#39ffb3;
  position: absolute;
  z-index: 1;
  top: 100px;
  left: 350px;
  }
  
  /* flexslider end */
  
  /* swiper start */
        .swiper {
        /*border: 1px solid black;*/
        width: 1140px;
        height: 380px;
        margin: 50px 0px ;
      }

      .swiper-slide {
        /*border: 1px solid black;*/
        text-align: center;
        font-size: 18px;
        background: #fff;

        /* Center slide text vertically */
        display: -webkit-box;
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      }

      @media (max-width: 760px) {
        .swiper-button-next {
          right: 20px;
          transform: rotate(90deg);
        }

        .swiper-button-prev {
          left: 20px;
          transform: rotate(90deg);
        }
      }
  /* swiper end */
  
  /* lecture-box start */
     .lec-box{
      width : 350px;
      height : 350px;
    }
  
    .lec-box>*{
    }
    
    .lec-img{
      height : 60%;
    }
    
    .lec-cat{
      height : 8%;
      text-align: left;
      font-size: 18px;
      padding-top: 5px;
      padding-left: 5px;
    }
    
    .lec-title{
      height : 16%;
      text-align: left;
      font-size: 28px;
      padding-top: 5px;
      padding-left: 5px;
    }
    
    .lec-price{
      height : 8%;
      text-align: left;
      font-size: 18px;
      padding-left: 5px;
    }
    
    .lec-wish, .lec-like{
      text-align: left;
      font-size: 18px;
      padding-left: 5px;
    }
  /* lecture-box end */
    </style>
    
    
</head>
<body>
  <div class="container">
  
    <div id="wrapper">
    
        <!-- 헤더 & 사이드바 자리 시작 -->
        <div id="header"></div>
    <!-- 헤더 & 사이드바 자리 끝 -->
    
    <!-- 내용물 자리 시작 -->
        <div id="page-wrapper"> <!-- 이 안에 때려박으세영!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
        
        <!-- flexslider -->
        <div class="flexslider">  
          <ul class="slides">
            <li id="m-slider-1">
              <img src="/user/main/flexslider/images/main1-1.jpg" />
              <span id="flex-text-1">폼프에 온것을 환영한다<br>낮선이여</span>
            </li>
            <li id="m-slider-2">
              <img src="/user/main/flexslider/images/main2-1.jpg" />
              <span id="flex-text-2">어서와 보드는 처음이지?</span>
            </li>
            <li id="m-slider-3">
              <img src="/user/main/flexslider/images/main3-1.jpg" />
              <span id="flex-text-3"></span>
            </li>
            <li id="m-slider-4">
              <img src="/user/main/flexslider/images/main4-1.jpg" />
              <span id="flex-text-4">
              </span>
            </li>
          </ul>
        </div>  
        <!-- flexslider -->
        
        <h2>맞춤 클래스 추천</h2>
        
        <!-- Swiper -->
    <div class="swiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
        
          <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img">
            <img src="/user/main/image/bowling1.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat">볼링</div>
            <div class="lec-title">너무나 재밌는 볼링 오세요!</div>
            <div class="lec-price">월 30000원</div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i>5555</div>
              <div class="lec-like" style="float: left; width: 50%;"><i class="fa-solid fa-thumbs-up">&nbsp;</i>555</div>
            </div>
          </div> <!--lecture/box -->
          
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img">
            <img src="/user/main/image/bowling2.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat">볼링</div>
            <div class="lec-title">너무나 재밌는 볼링 오세요!</div>
            <div class="lec-price">월 30000원</div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i>5555</div>
              <div class="lec-like" style="float: left; width: 50%;"><i class="fa-solid fa-thumbs-up">&nbsp;</i>555</div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img">
            <img src="/user/main/image/bowling3.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat">볼링</div>
            <div class="lec-title">너무나 재밌는 볼링 오세요!</div>
            <div class="lec-price">월 30000원</div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i>5555</div>
              <div class="lec-like" style="float: left; width: 50%;"><i class="fa-solid fa-thumbs-up">&nbsp;</i>555</div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img">
            <img src="/user/main/image/bowling4.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat">볼링</div>
            <div class="lec-title">너무나 재밌는 볼링 오세요!</div>
            <div class="lec-price">월 30000원</div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i>5555</div>
              <div class="lec-like" style="float: left; width: 50%;"><i class="fa-solid fa-thumbs-up">&nbsp;</i>555</div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img">
            <img src="/user/main/image/bowling5.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat">볼링</div>
            <div class="lec-title">너무나 재밌는 볼링 오세요!</div>
            <div class="lec-price">월 30000원</div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i>5555</div>
              <div class="lec-like" style="float: left; width: 50%;"><i class="fa-solid fa-thumbs-up">&nbsp;</i>555</div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img">
            <img src="/user/main/image/bowling6.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat">볼링</div>
            <div class="lec-title">너무나 재밌는 볼링 오세요!</div>
            <div class="lec-price">월 30000원</div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i>5555</div>
              <div class="lec-like" style="float: left; width: 50%;"><i class="fa-solid fa-thumbs-up">&nbsp;</i>555</div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
        <!-- Swiper -->
        
        
        <h2>인기 클래스 추천</h2>
        
        <!-- Swiper -->
    <div class="swiper">
      <div class="swiper-wrapper">
        <div class="swiper-slide">
        
          <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img" id="pop-img-0">
            <img src="/user/main/image/bowling1.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat" id="pop-ex-0"></div>
            <div class="lec-title" id="pop-name-0" data-value></div>
            <div class="lec-price" id="pop-price-0"></div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i></div>
              <div class="lec-like" style="float: left; width: 50%;" > <i class="fa-solid fa-thumbs-up" id="pop-thumb-0" data-value>&nbsp;</i><span id="pop-likey-0"></span></div>
            </div>
          </div> <!--lecture/box -->
          
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img" id="pop-img-1">
            <img src="/user/main/image/bowling2.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat" id="pop-ex-1"></div>
            <div class="lec-title" id="pop-name-1" data-value></div>
            <div class="lec-price" id="pop-price-1"></div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i></div>
              <div class="lec-like" style="float: left; width: 50%;" ><i class="fa-solid fa-thumbs-up" id="pop-thumb-1" data-value>&nbsp;</i><span id="pop-likey-1"></span></div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img" id="pop-img-2">
            <img src="/user/main/image/bowling3.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat" id="pop-ex-2"></div>
            <div class="lec-title" id="pop-name-2" data-value></div>
            <div class="lec-price" id="pop-price-2"></div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i></div>
              <div class="lec-like" style="float: left; width: 50%;" ><i class="fa-solid fa-thumbs-up" id="pop-thumb-2" data-value>&nbsp;</i><span id="pop-likey-2"></span></div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img" id="pop-img-3">
            <img src="/user/main/image/bowling4.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat" id="pop-ex-3"></div>
            <div class="lec-title" id="pop-name-3" data-value></div>
            <div class="lec-price" id="pop-price-3"></div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i></div>
              <div class="lec-like" style="float: left; width: 50%;" ><i class="fa-solid fa-thumbs-up" id="pop-thumb-3" data-value>&nbsp;</i><span id="pop-likey-3"></span></div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img" id="pop-img-4">
            <img src="/user/main/image/bowling5.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat" id="pop-ex-4"></div>
            <div class="lec-title" id="pop-name-4" data-value></div>
            <div class="lec-price" id="pop-price-4"></div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i></div>
              <div class="lec-like" style="float: left; width: 50%;"  ><i class="fa-solid fa-thumbs-up" id="pop-thumb-4" data-value>&nbsp;</i><span id="pop-likey-4"></span></div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
        <div class="swiper-slide">
        
                  <div class="lec-box"> <!--lecture/box -->
            <div class="lec-img" id="pop-img-5">
            <img src="/user/main/image/bowling6.jpg" width="350px" height="210px" />
            </div>
            <div class="lec-cat" id="pop-ex-5"></div>
            <div class="lec-title" id="pop-name-5" data-value></div>
            <div class="lec-price" id="pop-price-5"></div>
            <div>
              <div class="lec-wish" style="float: left; width: 50%;"><i class="fa-solid fa-heart">&nbsp;</i></div>
              <div class="lec-like" style="float: left; width: 50%;" ><i class="fa-solid fa-thumbs-up" id="pop-thumb-5" data-value>&nbsp;</i><span id="pop-likey-5"></span></div>
            </div>
          </div> <!--lecture/box -->
        
        </div>
      </div>
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
    </div>
        <!-- Swiper -->

        </div> <!-- 이 밑으론  HTML 만지지마!!!!!!!!!!!!!!!!!!!!!!!!!!! -->
        <!-- /#page-wrapper --> 
    <!-- 내용물 자리 끝 -->
        
    <div id="footer"></div>
    </div><!-- /#wrapper -->
    </div>
    
    <script src="/node_modules/jquery/dist/jquery.js"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>

    <script src="/node_modules/jquery/dist/jquery.min.js"></script>
    
<!-- FlexSlider -->
  <script defer src="/user/main/flexslider/jquery.flexslider.js"></script>       
  
  <!-- FlexSlider -->
  <script type="text/javascript"> 
  $(window).load(function() {
    $('.flexslider').flexslider({
      animation: "slide"
    });
  });
  </script>       
  
      <!-- Swiper -->
    <script src="/user/main/swiper/swiper-bundle.min.js"></script>
  
      <!-- Swiper -->
    <script>
      var swiper = new Swiper('.swiper', {
        slidesPerView: 3,
        direction: getDirection(),
        navigation: {
          nextEl: '.swiper-button-next',
          prevEl: '.swiper-button-prev',
        },
        on: {
          resize: function () {
            swiper.changeDirection(getDirection());
          },
        },
      });

      function getDirection() {
        var windowWidth = window.innerWidth;
        var direction = window.innerWidth <= 760 ? 'vertical' : 'horizontal';

        return direction;
      }
    </script>
    
    
		<script>
		$("#header").load("/form/user/header.html");
		$("#footer").load("/form/user/footer.html");
		</script>
    
    <script>
    var popImg = [6];
    var popEx = [6];
    var popName = [6];
    var popPrice = [6];
    var popLikey = [6];
    var popThumb = [6];
			
    
    var userNo = 1;
    
    var lecNo = [6];
    
    lecNo[0] = 0;
    lecNo[1] = 0;
    lecNo[2] = 0;
    lecNo[3] = 0;
    lecNo[4] = 0;
    lecNo[5] = 0;
    
    popImg[0] = document.getElementById("pop-img-0");
    popEx[0] = document.getElementById("pop-ex-0");
    popName[0] = document.getElementById("pop-name-0");
    popPrice[0] = document.getElementById("pop-price-0");
    popLikey[0] = document.getElementById("pop-likey-0");
    popThumb[0] = document.getElementById("pop-thumb-0");
                                                           
    popImg[1] = document.getElementById("pop-img-1");
    popEx[1] = document.getElementById("pop-ex-1");
    popName[1] = document.getElementById("pop-name-1");
    popPrice[1] = document.getElementById("pop-price-1");
    popLikey[1] = document.getElementById("pop-likey-1");
    popThumb[1] = document.getElementById("pop-thumb-1");
                                                           
    popImg[2] = document.getElementById("pop-img-2");
    popEx[2] = document.getElementById("pop-ex-2");
    popName[2] = document.getElementById("pop-name-2");
    popPrice[2] = document.getElementById("pop-price-2");
    popLikey[2] = document.getElementById("pop-likey-2");
    popThumb[2] = document.getElementById("pop-thumb-2");
                                                           
    popImg[3] = document.getElementById("pop-img-3");
    popEx[3] = document.getElementById("pop-ex-3");
    popName[3] = document.getElementById("pop-name-3");
    popPrice[3] = document.getElementById("pop-price-3");
    popLikey[3] = document.getElementById("pop-likey-3");
    popThumb[3] = document.getElementById("pop-thumb-3");
                                                           
    popImg[4] = document.getElementById("pop-img-4");
    popEx[4] = document.getElementById("pop-ex-4");
    popName[4] = document.getElementById("pop-name-4");
    popPrice[4] = document.getElementById("pop-price-4");
    popLikey[4] = document.getElementById("pop-likey-4");
    popThumb[4] = document.getElementById("pop-thumb-4");
                                                           
    popImg[5] = document.getElementById("pop-img-5");
    popEx[5] = document.getElementById("pop-ex-5");
    popName[5] = document.getElementById("pop-name-5");
    popPrice[5] = document.getElementById("pop-price-5");
    popLikey[5] = document.getElementById("pop-likey-5");
    popThumb[5] = document.getElementById("pop-thumb-5");
    
    

    fetch("/userMain/topLecture")
      .then(function(response) {
        return response.json();
      })
      .then(function(result) {
        console.log(result);
        
        for(i=0; i < 6; i++) {
      	  
          if (result[i].image == null) {
          	result[i].image = "default.jpg";
          }
          popImg[i].innerHTML = `<img src="/userMain/image?filename=${result[i].image}" width="350px" height="210px">`;
      	  popEx[i].innerHTML = result[i].exName;
      	  popName[i].innerHTML = result[i].lName;
      	  popPrice[i].innerHTML = result[i].price + "원";
      	  popLikey[i].innerHTML = result[i].likey;
      	  popName[i].dataset.value = result[i].lNo;
     	    console.log(popName[i].dataset.value);
        };
      })
      .then(function() {
    	  for(i=0; i < 6; i++) {
    	      console.log(popName[i].dataset.value);
    	    }
      });
  
    
    
    for(i=0; i < 6; i++) {
		  fetch(`/userMain/didICount?usersNo=${userNo}&lectureNo=${popName[i].dataset.value}`)
   	      .then(function(response) {
   	     return response.text(); 
   	     })
   	     .then(function(result) {
   		   console.log(result);
   	  
   	     if (result = 0) {
   		    popThumb[i].style.color = "blue";

   	     } else if (result = 1) {
   		    popThumb[i].style.color = "red";
   	     }
   	  
   	    });
    }
   
    </script>
    

</body>
</html>