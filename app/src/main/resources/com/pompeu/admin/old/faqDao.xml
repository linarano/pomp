<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.pompeu.dao.FaqDao">

  <resultMap type="faq" id="faqMap">
    <id column="faq_no" property="no"/>
    <result column="memeber_type_no" property="memberTypeNo"/>
    <result column="ask" property="ask"/>
    <result column="answer" property="answer"/>
    <result column="register_date" property="registerDate"/>
    <result column="modify_date" property="modifyDate"/>
    </resultMap>

  <select id="countAll" resultType="int">
    select count(*) from faq
  </select>
  
  <select id="findAll" resultMap="faqMap">
    select 
      faq_no,
      ask,
      answer,
      register_date,
      modify_date
    from 
      faq 
    order by 
      faq_no desc
  </select>
  
  <insert id="insert" parameterType="faq">
    insert into faq(member_type_no,ask,answer) 
    values(#{memberTypeNo},#{ask},#{answer})
  </insert>
  
  <select id="findByNo" resultMap="faqMap" parameterType="int">
   select 
      faq_no no,
      ask,
      answer,
      register_date,
      modify_date
    from 
      faq 
    where 
      faq_no=#{no}
  </select>

  <update id="update" parameterType="faq">
    update faq set
      member_type_no=#{memberTypeNo},
	    ask=#{ask},
	    answer=#{answer}
	    where 
      faq_no=#{no}
  </update>

  <delete id="delete" parameterType="int">
    delete from faq
    where faq_no=#{no}
  </delete>

</mapper>








