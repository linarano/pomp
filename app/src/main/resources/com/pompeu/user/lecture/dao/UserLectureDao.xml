<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.pompeu.user.lecture.dao.UserLectureDao">

  <resultMap type="lecture" id="lectureMap">
    <id column="lecture_no" property="no"/>
    <result column="location_no" property="locationNo"/>
    <result column="creator_no" property="creatorNo"/>
    <result column="ex_no" property="exNo"/>
    <result column="name" property="name"/>
    <result column="start_date" property="startDate"/>
    <result column="end_date" property="endDate"/>
    <result column="lecture_price" property="lecturePrice"/>
    <result column="register_date" property="registerDate"/>
    <result column="status" property="status"/>
    <result column="admin_message" property="adminMessage"/>
    <result column="total_rate" property="totalRate"/>
    <result column="in_out_ex" property="inOutEx"/>
    <result column="searchType" property="searchType"/>
  </resultMap>

  <resultMap type="location" id="locationMap">
    <id column="location_no" property="locationNo"/>
    <result column="doo" property="doo"/>
    <result column="si" property="si"/>
    <result column="gun" property="gun"/>
    <result column="gu" property="gu"/>
    <result column="si" property="si"/>
    <result column="address" property="address"/>
    <result column="post_no" property="postNo"/>
  </resultMap>

  <resultMap type="exercise" id="exerciseMap">
    <id column="ex_no" property="exNo"/>
    <result column="name" property="exName"/>
    <result column="ex_type_no" property="exTypeNo"/>
  </resultMap>

  <resultMap type="lectureWishlist" id="lectureWishlistMap">
    <id column="users_no" property="usersNo"/>
    <result column="lecture_no" property="lectureNo"/>
  </resultMap>
  
  <resultMap type="lectureImage" id="lectureImageMap">
    <id column="lecture_image_no" property="lectureImageNo"/>
    <result column="lecture_no" property="lectureNo"/>
    <result column="image" property="image"/>
  </resultMap>  
 
  <select id="countAll" resultType="int">
    select count(*) from lecture
  </select>
  
   <select id="findAll" resultType="HashMap">

  </select>
  
   <select id="findEverything" resultType="HashMap">
    select
          ex.name                    as exName,
          le.name                    as name,
          le.lecture_price           as lecturePrice
          le.lecture_no              as no
    from 
          lecture as le
    join exercise as ex
          on le.ex_no = ex.ex_no
    where 
          1=1
    order by
      le.lecture_no asc
  </select>
  
   <select id="findOut" resultType="HashMap">
    select  
          ex.name                    as exName,
          le.name                    as name,
          le.lecture_price           as lecturePrice
          le.no                      as no
    from 
          lecture as le
    join exercise as ex
          on le.ex_no = ex.ex_no
    where 
          le.in_out_ex=1
    order by
      le.lecture_no asc
  </select>
  
   <select id="findIn" resultType="HashMap">
    select  
          ex.name                    as exName,
          le.name                    as name,
          le.lecture_price           as lecturePrice
          le.no                      as no
    from 
          lecture as le
    join exercise as ex
          on le.ex_no = ex.ex_no
    where 
          le.in_out_ex=2
    order by
      le.lecture_no asc
  </select>
  
  


</mapper>